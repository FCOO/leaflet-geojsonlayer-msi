!function(e){"use strict";function t(e){var t={};return t.hemisphere=e>=0?1:-1,e=Math.abs(e),t.degrees=Math.floor(e),t.degreesDecimal=Math.min(9999,Math.round(1e4*(e-t.degrees))),e=60*e%60,t.minutes=Math.floor(e),t.minutesDecimal=Math.min(999,Math.round(1e3*(e-t.minutes))),e=60*e%60,t.seconds=Math.floor(e),t.secondsDecimal=Math.min(9,Math.floor(10*(e-t.seconds))),t}function a(a){this.options=e.latLngFormat.latLngFormatOptions[a],this._valid=function(e,t){return new RegExp("^(?:"+this.options.regexp[e]+")$").test(t)},this.valid=function(e){return Array.isArray(e)?[this.validLat(e[0]),this.validLng(e[1])]:[]},this.validLat=function(e){return this._valid(0,e)},this.validLng=function(e){return this._valid(1,e)},this._textToDegrees=function(e,t){function a(e){var t=e.toString().length;return e/Math.pow(10,t)}if(t=t.toUpperCase().trim(),""===t||!this._valid(e,t))return null;var r=1;(t.indexOf("S")>-1||t.indexOf("W")>-1)&&(r=-1);var n,s,i=t.split(/\D/),o=0,c=0;for(n=0;n<i.length;n++)if(s=parseInt(i[n]),!isNaN(s)){switch(this.options.convertMask[c]){case"DDD":o+=s;break;case"MM":o+=s/60;break;case"mmm":o+=a(s)/60;break;case"s":o+=a(s)/3600;break;case"SS":o+=s/3600;break;case"dddd":o+=a(s)}if(c++,c>=this.options.convertMask.length)break}return r*o},this.textToDegrees=function(e){return Array.isArray(e)?[this.textToDegreesLat(e[0]),this.textToDegreesLng(e[1])]:[]},this.textToDegreesLat=function(e){return this._textToDegrees(0,e)},this.textToDegreesLng=function(e){return this._textToDegrees(1,e)},this._asText=function(e,a,r){function n(e,t){for(var a=""+e;a.length<t;)a="0"+a;return a}function s(e,t){for(var a=""+e;a.length<t;)a+="0";return a}if("number"!=typeof a)return"";var i=t(a),o=(r?this.options.editMask:this.options.displayMask).replace("H",e?1==i.hemisphere?"E":"W":1==i.hemisphere?"N":"S");return o=o.replace(/DDD/,i.degrees),o=o.replace(/dddd/,s(i.degreesDecimal,4)),o=o.replace(/MM/,n(i.minutes,2)),o=o.replace(/mmm/,s(i.minutesDecimal,3)),o=o.replace(/SS/,n(i.seconds,2)),o=o.replace(/s/,n(i.secondsDecimal,1))},this.asText=function(e,t){return Array.isArray(e)?[this.asTextLat(e[0],t),this.asTextLng(e[1],t)]:[]},this.asTextLat=function(e,t){return this._asText(0,e,t)},this.asTextLng=function(e,t){return this._asText(1,e,t)},this._convert=function(e,t,a){if(a&&a._valid(e,t)){var r=a._textToDegrees(e,t);return this._asText(e,r,!0)}return t},this.convert=function(e,t){return Array.isArray(e)?[this.convertLat(e[0],t),this.convertLng(e[1],t)]:[]},this.convertLat=function(e,t){return this._convert(0,e,t)},this.convertLng=function(e,t){return this._convert(1,e,t)}}e.latLngFormat=e.latLngFormat||{},e.latLngFormat.DMSs=0,e.latLngFormat.DMm=1,e.latLngFormat.Dd=2,e.latLngFormat.degreeChar="&#176;",e.latLngFormat.minutChar="'",e.latLngFormat.secondChar='"';var r=1.1;r=r.toLocaleString(),e.latLngFormat.decimalSeparator=e.latLngFormat.forceDecimalSeparator?e.latLngFormat.forceDecimalSeparator:r.indexOf(".")>-1?".":r.indexOf(",")>-1?",":".";var n={anySpace:"\\s*",hemisphereLat:"([nNsS])?",hemisphereLong:"([eEwW])?",DD:"((0?[0-9])|[1-8][0-9])",DDD:"((\\d?\\d)|1[0-7][0-9])",MM:"\\s((0?[0-9])|[1-5][0-9])"};n.SS=n.MM,n.seperator=n.anySpace+"[\\s\\.,]"+n.anySpace,n.dddd="("+n.seperator+"\\d{1,4})?",n.MMmmm="("+n.MM+"("+n.seperator+"\\d{1,3})?)?",n.MMSSs="("+n.MM+"("+n.SS+"("+n.seperator+"\\d{1,1})?)?)?";var s=e.latLngFormat.decimalSeparator,i=e.latLngFormat.degreeChar;e.latLngFormat.latLngFormatOptions=[{displayMask:"DDD"+i+"MM'SS"+s+'s"H',editMask:"DDD MM SS"+s+"sH",convertMask:["DDD","MM","SS","s"],regexp:[n.anySpace+"(90|"+n.DD+n.anySpace+n.MMSSs+")"+n.anySpace+n.hemisphereLat+n.anySpace,n.anySpace+"(180|"+n.DDD+n.anySpace+n.MMSSs+")"+n.anySpace+n.hemisphereLong+n.anySpace],placeholder:["89 59 59"+e.latLngFormat.decimalSeparator+"9N","179 59 59"+e.latLngFormat.decimalSeparator+"9E"]},{displayMask:"DDD"+i+"MM"+s+"mmm'H",editMask:"DDD MM"+s+"mmmH",convertMask:["DDD","MM","mmm"],regexp:[n.anySpace+"(90|"+n.DD+n.anySpace+n.MMmmm+")"+n.anySpace+n.hemisphereLat+n.anySpace,n.anySpace+"(180|"+n.DDD+n.anySpace+n.MMmmm+")"+n.anySpace+n.hemisphereLong+n.anySpace],placeholder:["89 59"+e.latLngFormat.decimalSeparator+"999N","179 59"+e.latLngFormat.decimalSeparator+"999E"]},{displayMask:"DDD"+s+"dddd"+i+"H",editMask:"DDD"+s+"ddddH",convertMask:["DDD","dddd"],regexp:[n.anySpace+"(90|"+n.DD+n.anySpace+n.dddd+")"+n.anySpace+n.hemisphereLat+n.anySpace,n.anySpace+"(180|"+n.DDD+n.anySpace+n.dddd+")"+n.anySpace+n.hemisphereLong+n.anySpace],placeholder:["89.9999N","179.9999E"]}],e.LatLngFormat=a}(this,document);